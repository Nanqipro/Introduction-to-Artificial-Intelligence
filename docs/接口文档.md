## 1. 用户相关接口

### 1.1 注册

#### 1.1.1 基本信息

> 请求路径：/api/user/register
>
> 请求方式：POST
>
> 接口描述：该接口用于注册新用户



#### 1.1.2 请求参数

请求参数格式：x-www-form-urlencoded

请求参数说明：

| 参数名称 | 说明   | 类型   | 是否必须 | 备注           |
| -------- | ------ | ------ | -------- | -------------- |
| username | 用户名 | string | 是       | 4~16位字母数字下划线 |
| password | 密码   | string | 是       | 4~16位字母数字下划线 |

请求数据样例：

```shell
username=zhangsan&password=123456
```



#### 1.1.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | object | 非必须   |        | 返回的数据            |          |

响应数据样例：

```json
{
    "code": 0,
    "message": "操作成功",
    "data": null
}
```



### 1.2 登录

#### 1.2.1 基本信息

> 请求路径：/api/user/login
>
> 请求方式：POST
>
> 接口描述：该接口用于登录

#### 1.2.2 请求参数

请求参数格式：x-www-form-urlencoded

请求参数说明：

| 参数名称 | 说明   | 类型   | 是否必须 | 备注           |
| -------- | ------ | ------ | -------- | -------------- |
| username | 用户名 | string | 是       | 4~16位字母数字下划线 |
| password | 密码   | string | 是       | 4~16位字母数字下划线 |

请求数据样例：

```shell
username=zhangsan&password=123456
```



#### 1.2.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | string | 必须     |        | 返回的数据,jwt令牌    |          |

响应数据样例：

```json
{
    "code": 0,
    "message": "操作成功",
    "data": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjbGFpbXMiOnsiaWQiOjUsInVzZXJuYW1lIjoid2FuZ2JhIn0sImV4cCI6MTY5MzcxNTk3OH0.pE_RATcoF7Nm9KEp9eC3CzcBbKWAFOL0IsuMNjnZ95M"
}
```



#### 1.2.4 备注说明

> 用户登录成功后，系统会自动下发JWT令牌，然后在后续的每次请求中，浏览器都需要在请求头header中携带到服务端，请求头的名称为 Authorization，值为 登录时下发的JWT令牌。
>
> 如果检测到用户未登录，则http响应状态码为401



### 1.3 获取用户详细信息

#### 1.3.1 基本信息

> 请求路径：/api/user/userInfo
>
> 请求方式：GET
>
> 接口描述：该接口用于获取当前已登录用户的详细信息

#### 1.3.2 请求参数

无

#### 1.3.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称          | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------------- | ------ | -------- | ------ | --------------------- | -------- |
| code          | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message       | string | 非必须   |        | 提示信息              |          |
| data          | object | 必须     |        | 返回的数据            |          |
| \|-id         | number | 非必须   |        | 主键ID                |          |
| \|-username   | string | 非必须   |        | 用户名                |          |
| \|-nickname   | string | 非必须   |        | 昵称                  |          |
| \|-email      | string | 非必须   |        | 邮箱                  |          |
| \|-userPic    | string | 非必须   |        | 头像地址              |          |
| \|-createTime | string | 非必须   |        | 创建时间              |          |
| \|-updateTime | string | 非必须   |        | 更新时间              |          |

响应数据样例：

```json
{
    "code": 0,
    "message": "操作成功",
    "data": {
        "id": 5,
        "username": "wangba",
        "nickname": "",
        "email": "",
        "userPic": "",
        "createTime": "2023-09-02 22:21:31",
        "updateTime": "2023-09-02 22:21:31"
    }
}
```



### 1.4 更新用户基本信息

#### 1.4.1 基本信息

> 请求路径：/api/user/update
>
> 请求方式：PUT
>
> 接口描述：该接口用于更新已登录用户的基本信息(除头像和密码)

#### 1.4.2 请求参数

请求参数格式：application/json

请求参数说明：

| 参数名称 | 说明   | 类型   | 是否必须 | 备注           |
| -------- | ------ | ------ | -------- | -------------- |
| id       | 主键ID | number | 是       |                |
| username | 用户名 | string | 否       | 5~16位非空字符 |
| nickname | 昵称   | string | 是       | 1~10位非空字符 |
| email    | 邮箱   | string | 是       | 满足邮箱的格式 |

请求数据样例：

```json
{
    "id":5,
    "username":"wangba",
    "nickname":"wb",
    "email":"wb@itcast.cn"
}
```

#### 1.4.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | object | 非必须   |        | 返回的数据            |          |

响应数据样例：

```json
{
    "code": 0,
    "message": "操作成功",
    "data": null
}
```



### 1.5 更新用户头像

#### 1.5.1 基本信息

> 请求路径：/api/user/updateAvatar
>
> 请求方式：PATCH
>
> 接口描述：该接口用于更新已登录用户的头像

#### 1.5.2 请求参数

请求参数格式：queryString

请求参数说明：

| 参数名称  | 说明     | 类型   | 是否必须 | 备注    |
| --------- | -------- | ------ | -------- | ------- |
| avatarUrl | 头像地址 | string | 是       | url地址 |

请求数据样例：

```shell
avatarUrl=https://example.com/avatar.jpg
```

#### 1.5.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | object | 非必须   |        | 返回的数据            |          |

响应数据样例：

```json
{
    "code": 0,
    "message": "操作成功",
    "data": null
}
```



### 1.6 更新用户密码

#### 1.6.1 基本信息

> 请求路径：/api/user/updatePwd
>
> 请求方式：PATCH
>
> 接口描述：该接口用于更新已登录用户的密码

#### 1.6.2 请求参数

请求参数格式：application/json

请求参数说明：

| 参数名称 | 说明       | 类型   | 是否必须 | 备注 |
| -------- | ---------- | ------ | -------- | ---- |
| oldPwd   | 原密码     | string | 是       |      |
| newPwd   | 新密码     | string | 是       |      |
| confirmPwd | 确认新密码 | string | 是       |      |

请求数据样例：

```json
{
    "oldPwd":"123456",
    "newPwd":"234567",
    "confirmPwd":"234567"
}
```

#### 1.6.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | object | 非必须   |        | 返回的数据            |          |

响应数据样例：

```json
{
    "code": 0,
    "message": "操作成功",
    "data": null
}
```

## 2. 管理员相关接口

### 2.1 获取所有题目

#### 2.1.1 基本信息

> 请求路径：/api/admin/questions
>
> 请求方式：GET
>
> 接口描述：该接口用于获取所有题目列表

#### 2.1.2 请求参数

无

#### 2.1.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称          | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------------- | ------ | -------- | ------ | --------------------- | -------- |
| code          | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message       | string | 非必须   |        | 提示信息              |          |
| data          | array  | 必须     |        | 题目列表              |          |
| \|-id         | number | 非必须   |        | 题目ID                |          |
| \|-title      | string | 非必须   |        | 题目标题              |          |
| \|-type       | string | 非必须   |        | 题目类型              |          |
| \|-chapterId  | string | 非必须   |        | 章节ID                |          |
| \|-difficulty | number | 非必须   |        | 难度等级              |          |

响应数据样例：

```json
{
    "code": 0,
    "message": "操作成功",
    "data": [
        {
            "id": 1,
            "title": "什么是人工智能？",
            "type": "single_choice",
            "chapterId": "chapter_1",
            "difficulty": 1
        }
    ]
}
```

### 2.2 根据ID获取题目

#### 2.2.1 基本信息

> 请求路径：/api/admin/questions/{id}
>
> 请求方式：GET
>
> 接口描述：该接口用于根据ID获取特定题目

#### 2.2.2 请求参数

路径参数：

| 参数名称 | 说明   | 类型   | 是否必须 | 备注   |
| -------- | ------ | ------ | -------- | ------ |
| id       | 题目ID | number | 是       |        |

#### 2.2.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | object | 必须     |        | 题目详情              |          |

响应数据样例：

```json
{
    "code": 0,
    "message": "操作成功",
    "data": {
        "id": 1,
        "title": "什么是人工智能？",
        "type": "single_choice",
        "chapterId": "chapter_1",
        "difficulty": 1,
        "question": "下列哪个不属于人工智能的分支？",
        "options": ["机器学习", "自然语言处理", "数据挖掘", "网页设计"],
        "answer": "网页设计"
    }
}
```

### 2.3 创建题目

#### 2.3.1 基本信息

> 请求路径：/api/admin/questions
>
> 请求方式：POST
>
> 接口描述：该接口用于创建新题目

#### 2.3.2 请求参数

请求参数格式：application/json

请求参数说明：

| 参数名称  | 说明     | 类型   | 是否必须 | 备注     |
| --------- | -------- | ------ | -------- | -------- |
| title     | 题目标题 | string | 是       |          |
| type      | 题目类型 | string | 是       |          |
| chapterId | 章节ID   | string | 是       |          |
| difficulty| 难度等级 | number | 是       | 1-5      |
| question  | 题目内容 | string | 是       |          |
| options   | 选项     | array  | 否       | 选择题用 |
| answer    | 正确答案 | string | 是       |          |

请求数据样例：

```json
{
    "title": "机器学习基础",
    "type": "single_choice",
    "chapterId": "chapter_2",
    "difficulty": 2,
    "question": "下列哪个是监督学习算法？",
    "options": ["K-means", "决策树", "DBSCAN", "PCA"],
    "answer": "决策树"
}
```

#### 2.3.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | object | 必须     |        | 创建的题目信息        |          |

响应数据样例：

```json
{
    "code": 0,
    "message": "操作成功",
    "data": {
        "id": 2,
        "title": "机器学习基础",
        "type": "single_choice",
        "chapterId": "chapter_2",
        "difficulty": 2
    }
}
```

### 2.4 更新题目

#### 2.4.1 基本信息

> 请求路径：/api/admin/questions/{id}
>
> 请求方式：PUT
>
> 接口描述：该接口用于更新题目信息

#### 2.4.2 请求参数

路径参数：

| 参数名称 | 说明   | 类型   | 是否必须 | 备注   |
| -------- | ------ | ------ | -------- | ------ |
| id       | 题目ID | number | 是       |        |

请求体参数格式：application/json

请求体参数说明：

| 参数名称  | 说明     | 类型   | 是否必须 | 备注     |
| --------- | -------- | ------ | -------- | -------- |
| title     | 题目标题 | string | 否       |          |
| type      | 题目类型 | string | 否       |          |
| chapterId | 章节ID   | string | 否       |          |
| difficulty| 难度等级 | number | 否       | 1-5      |
| question  | 题目内容 | string | 否       |          |
| options   | 选项     | array  | 否       | 选择题用 |
| answer    | 正确答案 | string | 否       |          |

#### 2.4.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | object | 必须     |        | 更新的题目信息        |          |

### 2.5 删除题目

#### 2.5.1 基本信息

> 请求路径：/api/admin/questions/{id}
>
> 请求方式：DELETE
>
> 接口描述：该接口用于删除题目

#### 2.5.2 请求参数

路径参数：

| 参数名称 | 说明   | 类型   | 是否必须 | 备注   |
| -------- | ------ | -------- | ------ | ------ |
| id       | 题目ID | number | 是       |        |

#### 2.5.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | string | 必须     |        | 删除结果消息          |          |

### 2.6 导入题目（Excel）

#### 2.6.1 基本信息

> 请求路径：/api/admin/questions/import
>
> 请求方式：POST
>
> 接口描述：该接口用于通过Excel文件批量导入题目

#### 2.6.2 请求参数

请求参数格式：multipart/form-data

请求参数说明：

| 参数名称 | 说明     | 类型 | 是否必须 | 备注                    |
| -------- | -------- | ---- | -------- | ----------------------- |
| file     | Excel文件| file | 是       | 支持.xlsx和.xls格式     |

#### 2.6.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | object | 必须     |        | 导入结果统计          |          |

### 2.7 获取题目统计信息

#### 2.7.1 基本信息

> 请求路径：/api/admin/questions/stats
>
> 请求方式：GET
>
> 接口描述：该接口用于获取题目统计信息

#### 2.7.2 请求参数

无

#### 2.7.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | object | 必须     |        | 统计信息              |          |

### 2.8 根据章节获取题目

#### 2.8.1 基本信息

> 请求路径：/api/admin/questions/chapter/{chapterId}
>
> 请求方式：GET
>
> 接口描述：该接口用于根据章节ID获取题目列表

#### 2.8.2 请求参数

路径参数：

| 参数名称  | 说明   | 类型   | 是否必须 | 备注   |
| --------- | ------ | ------ | -------- | ------ |
| chapterId | 章节ID | string | 是       |        |

#### 2.8.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | array  | 必须     |        | 题目列表              |          |

### 2.9 健康检查

#### 2.9.1 基本信息

> 请求路径：/api/admin/health
>
> 请求方式：GET
>
> 接口描述：该接口用于检查管理员系统运行状态

#### 2.9.2 请求参数

无

#### 2.9.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | string | 必须     |        | 系统状态信息          |          |

## 3. 章节相关接口

### 3.1 获取章节概览

#### 3.1.1 基本信息

> 请求路径：/api/chapters
>
> 请求方式：GET
>
> 接口描述：该接口用于获取章节概览列表

#### 3.1.2 请求参数

无

#### 3.1.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称          | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------------- | ------ | -------- | ------ | --------------------- | -------- |
| code          | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message       | string | 非必须   |        | 提示信息              |          |
| data          | array  | 必须     |        | 章节列表              |          |
| \|-id         | string | 非必须   |        | 章节ID                |          |
| \|-title      | string | 非必须   |        | 章节标题              |          |
| \|-description| string | 非必须   |        | 章节描述              |          |
| \|-status     | string | 非必须   |        | 发布状态              |          |

响应数据样例：

```json
{
    "code": 0,
    "message": "操作成功",
    "data": [
        {
            "id": "chapter_1",
            "title": "人工智能导论",
            "description": "介绍人工智能的基本概念和发展历史",
            "status": "published"
        }
    ]
}
```

### 3.2 获取所有章节

#### 3.2.1 基本信息

> 请求路径：/api/chapters/all
>
> 请求方式：GET
>
> 接口描述：该接口用于获取所有已发布章节的完整内容

#### 3.2.2 请求参数

无

#### 3.2.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | array  | 必须     |        | 章节完整信息列表      |          |

### 3.3 根据ID获取章节

#### 3.3.1 基本信息

> 请求路径：/api/chapters/{id}
>
> 请求方式：GET
>
> 接口描述：该接口用于根据ID获取特定章节详情

#### 3.3.2 请求参数

路径参数：

| 参数名称 | 说明   | 类型   | 是否必须 | 备注   |
| -------- | ------ | ------ | -------- | ------ |
| id       | 章节ID | string | 是       |        |

#### 3.3.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | object | 必须     |        | 章节详情              |          |

响应数据样例：

```json
{
    "code": 0,
    "message": "操作成功",
    "data": {
        "id": "chapter_1",
        "title": "人工智能导论",
        "description": "介绍人工智能的基本概念和发展历史",
        "content": "详细的章节内容...",
        "status": "published",
        "createTime": "2023-09-01 10:00:00",
        "updateTime": "2023-09-01 10:00:00"
    }
}
```

### 3.4 创建章节

#### 3.4.1 基本信息

> 请求路径：/api/chapters
>
> 请求方式：POST
>
> 接口描述：该接口用于创建新章节

#### 3.4.2 请求参数

请求参数格式：application/json

请求参数说明：

| 参数名称    | 说明     | 类型   | 是否必须 | 备注     |
| ----------- | -------- | ------ | -------- | -------- |
| id          | 章节ID   | string | 是       |          |
| title       | 章节标题 | string | 是       |          |
| description | 章节描述 | string | 否       |          |
| content     | 章节内容 | string | 是       |          |
| status      | 发布状态 | string | 否       | 默认draft|

请求数据样例：

```json
{
    "id": "chapter_2",
    "title": "机器学习基础",
    "description": "介绍机器学习的基本概念和算法",
    "content": "机器学习是人工智能的一个重要分支...",
    "status": "draft"
}
```

#### 3.4.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | object | 必须     |        | 创建的章节信息        |          |

### 3.5 更新章节

#### 3.5.1 基本信息

> 请求路径：/api/chapters/{id}
>
> 请求方式：PUT
>
> 接口描述：该接口用于更新章节信息

#### 3.5.2 请求参数

路径参数：

| 参数名称 | 说明   | 类型   | 是否必须 | 备注   |
| -------- | ------ | ------ | -------- | ------ |
| id       | 章节ID | string | 是       |        |

请求体参数格式：application/json

请求体参数说明：

| 参数名称    | 说明     | 类型   | 是否必须 | 备注     |
| ----------- | -------- | ------ | -------- | -------- |
| title       | 章节标题 | string | 否       |          |
| description | 章节描述 | string | 否       |          |
| content     | 章节内容 | string | 否       |          |
| status      | 发布状态 | string | 否       |          |

#### 3.5.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | object | 必须     |        | 更新的章节信息        |          |

### 3.6 删除章节

#### 3.6.1 基本信息

> 请求路径：/api/chapters/{id}
>
> 请求方式：DELETE
>
> 接口描述：该接口用于删除章节

#### 3.6.2 请求参数

路径参数：

| 参数名称 | 说明   | 类型   | 是否必须 | 备注   |
| -------- | ------ | ------ | -------- | ------ |
| id       | 章节ID | string | 是       |        |

#### 3.6.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | object | 非必须   |        | 返回的数据            |          |

### 3.7 健康检查

#### 3.7.1 基本信息

> 请求路径：/api/chapters/health
>
> 请求方式：GET
>
> 接口描述：该接口用于检查章节系统运行状态

#### 3.7.2 请求参数

无

#### 3.7.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | string | 必须     |        | 系统状态信息          |          |

## 4. 等级系统相关接口

### 4.1 添加经验值

#### 4.1.1 基本信息

> 请求路径：/api/level/addExperience
>
> 请求方式：POST
>
> 接口描述：该接口用于为用户添加经验值

#### 4.1.2 请求参数

请求参数格式：application/json

请求参数说明：

| 参数名称     | 说明     | 类型   | 是否必须 | 备注     |
| ------------ | -------- | ------ | -------- | -------- |
| experience   | 经验值   | number | 是       |          |
| activityType | 活动类型 | string | 是       |          |
| chapterId    | 章节ID   | number | 否       |          |
| score        | 得分     | number | 否       |          |

请求数据样例：

```json
{
    "experience": 50,
    "activityType": "quiz_completed",
    "chapterId": 1,
    "score": 85
}
```

#### 4.1.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | object | 必须     |        | 等级变化信息          |          |

### 4.2 获取用户统计信息

#### 4.2.1 基本信息

> 请求路径：/api/level/stats
>
> 请求方式：GET
>
> 接口描述：该接口用于获取当前用户的统计信息

#### 4.2.2 请求参数

无

#### 4.2.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | object | 必须     |        | 用户统计信息          |          |

### 4.3 获取用户成就

#### 4.3.1 基本信息

> 请求路径：/api/level/achievements
>
> 请求方式：GET
>
> 接口描述：该接口用于获取当前用户的成就列表

#### 4.3.2 请求参数

无

#### 4.3.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | array  | 必须     |        | 用户成就列表          |          |

### 4.4 获取学习记录

#### 4.4.1 基本信息

> 请求路径：/api/level/records
>
> 请求方式：GET
>
> 接口描述：该接口用于获取当前用户的学习记录

#### 4.4.2 请求参数

无

#### 4.4.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | array  | 必须     |        | 学习记录列表          |          |

### 4.5 获取排行榜

#### 4.5.1 基本信息

> 请求路径：/api/level/leaderboard
>
> 请求方式：GET
>
> 接口描述：该接口用于获取用户排行榜

#### 4.5.2 请求参数

查询参数：

| 参数名称 | 说明     | 类型   | 是否必须 | 备注    |
| -------- | -------- | ------ | -------- | ------- |
| limit    | 限制数量 | number | 否       | 默认10  |

#### 4.5.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | array  | 必须     |        | 排行榜列表            |          |

### 4.6 计算等级

#### 4.6.1 基本信息

> 请求路径：/api/level/calculateLevel
>
> 请求方式：GET
>
> 接口描述：该接口用于根据经验值计算等级

#### 4.6.2 请求参数

查询参数：

| 参数名称   | 说明   | 类型   | 是否必须 | 备注 |
| ---------- | ------ | ------ | -------- | ---- |
| experience | 经验值 | number | 是       |      |

#### 4.6.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | object | 必须     |        | 等级计算结果          |          |

响应数据样例：

```json
{
    "code": 0,
    "message": "操作成功",
    "data": {
        "level": 5,
        "title": "进阶学者",
        "experience": 1250
    }
}
```

## 5. 答题系统相关接口

### 5.1 根据章节获取题目

#### 5.1.1 基本信息

> 请求路径：/api/quiz/questions/{chapterId}
>
> 请求方式：GET
>
> 接口描述：该接口用于根据章节ID获取答题题目

#### 5.1.2 请求参数

路径参数：

| 参数名称  | 说明   | 类型   | 是否必须 | 备注   |
| --------- | ------ | ------ | -------- | ------ |
| chapterId | 章节ID | string | 是       |        |

#### 5.1.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | array  | 必须     |        | 题目列表              |          |

### 5.2 保存答题结果

#### 5.2.1 基本信息

> 请求路径：/api/quiz/results
>
> 请求方式：POST
>
> 接口描述：该接口用于保存用户答题结果

#### 5.2.2 请求参数

请求参数格式：application/json

请求参数说明：

| 参数名称  | 说明     | 类型   | 是否必须 | 备注     |
| --------- | -------- | ------ | -------- | -------- |
| chapterId | 章节ID   | string | 是       |          |
| score     | 得分     | number | 是       |          |
| answers   | 答案列表 | array  | 是       |          |
| duration  | 答题时长 | number | 否       | 单位秒   |

请求数据样例：

```json
{
    "chapterId": "chapter_1",
    "score": 85,
    "answers": [
        {"questionId": 1, "userAnswer": "A", "isCorrect": true},
        {"questionId": 2, "userAnswer": "B", "isCorrect": false}
    ],
    "duration": 300
}
```

#### 5.2.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | object | 必须     |        | 保存的答题结果        |          |

### 5.3 获取答题历史

#### 5.3.1 基本信息

> 请求路径：/api/quiz/history
>
> 请求方式：GET
>
> 接口描述：该接口用于获取当前用户的答题历史记录

#### 5.3.2 请求参数

无

#### 5.3.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | array  | 必须     |        | 答题历史记录列表      |          |

### 5.4 获取用户答题统计

#### 5.4.1 基本信息

> 请求路径：/api/quiz/stats
>
> 请求方式：GET
>
> 接口描述：该接口用于获取当前用户的答题统计信息

#### 5.4.2 请求参数

无

#### 5.4.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | object | 必须     |        | 答题统计信息          |          |

### 5.5 获取答题排行榜

#### 5.5.1 基本信息

> 请求路径：/api/quiz/leaderboard
>
> 请求方式：GET
>
> 接口描述：该接口用于获取答题排行榜

#### 5.5.2 请求参数

无

#### 5.5.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | array  | 必须     |        | 排行榜列表            |          |

### 5.6 根据章节获取答题结果

#### 5.6.1 基本信息

> 请求路径：/api/quiz/results/{chapterId}
>
> 请求方式：GET
>
> 接口描述：该接口用于获取特定章节的答题结果

#### 5.6.2 请求参数

路径参数：

| 参数名称  | 说明   | 类型   | 是否必须 | 备注   |
| --------- | ------ | ------ | -------- | ------ |
| chapterId | 章节ID | string | 是       |        |

#### 5.6.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | array  | 必须     |        | 章节答题结果列表      |          |

### 5.7 健康检查

#### 5.7.1 基本信息

> 请求路径：/api/quiz/health
>
> 请求方式：GET
>
> 接口描述：该接口用于检查答题系统运行状态

#### 5.7.2 请求参数

无

#### 5.7.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | string | 必须     |        | 系统状态信息          |          |